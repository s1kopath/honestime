{{-- Bitcoin --}}
<div class="d-flex justify-content-between">
    <div class="d-flex justify-content-between">
        <div class="pt-3">
            <img class="rounded-circle border" src="{{ asset('back-end/img/trade/US.svg') }}" alt="flag">
            <img class="rounded-circle border ml-n3 mt-n3" src="{{ asset('back-end/img/trade/bitcoin.png') }}"
                alt="flag">
        </div>
        <div>
            <span>
                BTC USD
            </span>
            <br>
            <small>Bitcoin / U.S. Dollar</small>
        </div>
    </div>
    <div>
        <div class="text-right">
            <div class="col" id="btc-usd"></div>
            <div class="col" id="btc-usd-rate"></div>
        </div>
    </div>
</div>
<div class="d-flex justify-content-between">
    <div class="d-flex justify-content-between">
        <div class="pt-3">
            <img class="rounded-circle border" src="{{ asset('back-end/img/trade/EU.svg') }}" alt="flag">
            <img class="rounded-circle border ml-n3 mt-n3" src="{{ asset('back-end/img/trade/bitcoin.png') }}"
                alt="flag">
        </div>
        <div>
            <span>
                BTC EUR
            </span>
            <br>
            <small>Bitcoin / European Dollar</small>
        </div>
    </div>
    <div>
        <div class="text-right">
            <div class="col" id="btc-eur"></div>
            <div class="col" id="btc-eur-rate"></div>
        </div>
    </div>
</div>
<div class="d-flex justify-content-between">
    <div class="d-flex justify-content-between">
        <div class="pt-3">
            <img class="rounded-circle border" src="{{ asset('back-end/img/trade/GB.svg') }}" alt="flag">
            <img class="rounded-circle border ml-n3 mt-n3" src="{{ asset('back-end/img/trade/bitcoin.png') }}"
                alt="flag">
        </div>
        <div>
            <span>
                BTC GBP
            </span>
            <br>
            <small>Bitcoin / Great Britain Pound</small>
        </div>
    </div>
    <div>
        <div class="text-right">
            <div class="col" id="btc-gbp"></div>
            <div class="col" id="btc-gbp-rate"></div>
        </div>
    </div>
</div>
{{-- Ethereum --}}
<div class="d-flex justify-content-between">
    <div class="d-flex justify-content-between">
        <div class="pt-3">
            <img class="rounded-circle border" src="{{ asset('back-end/img/trade/US.svg') }}" alt="flag">
            <img class="rounded-circle border ml-n3 mt-n3" src="{{ asset('back-end/img/trade/ethereum.png') }}"
                alt="flag">
        </div>
        <div>
            <span>
                ETH USD
            </span>
            <br>
            <small>Ethereum / U.S. Dollar</small>
        </div>
    </div>
    <div>
        <div class="text-right">
            <div class="col" id="eth-usd"></div>
            <div class="col" id="eth-usd-rate"></div>
        </div>
    </div>
</div>
<div class="d-flex justify-content-between">
    <div class="d-flex justify-content-between">
        <div class="pt-3">
            <img class="rounded-circle border" src="{{ asset('back-end/img/trade/EU.svg') }}" alt="flag">
            <img class="rounded-circle border ml-n3 mt-n3" src="{{ asset('back-end/img/trade/ethereum.png') }}"
                alt="flag">
        </div>
        <div>
            <span>
                ETH EUR
            </span>
            <br>
            <small>Ethereum / European Dollar</small>
        </div>
    </div>
    <div>
        <div class="text-right">
            <div class="col" id="eth-eur"></div>
            <div class="col" id="eth-eur-rate"></div>
        </div>
    </div>
</div>
<div class="d-flex justify-content-between">
    <div class="d-flex justify-content-between">
        <div class="pt-3">
            <img class="rounded-circle border" src="{{ asset('back-end/img/trade/GB.svg') }}" alt="flag">
            <img class="rounded-circle border ml-n3 mt-n3" src="{{ asset('back-end/img/trade/ethereum.png') }}"
                alt="flag">
        </div>
        <div>
            <span>
                ETH GBP
            </span>
            <br>
            <small>Ethereum / Great Britain Pound</small>
        </div>
    </div>
    <div>
        <div class="text-right">
            <div class="col" id="eth-gbp"></div>
            <div class="col" id="eth-gbp-rate"></div>
        </div>
    </div>
</div>
{{-- Tether --}}
<div class="d-flex justify-content-between">
    <div class="d-flex justify-content-between">
        <div class="pt-3">
            <img class="rounded-circle border" src="{{ asset('back-end/img/trade/US.svg') }}" alt="flag">
            <img class="rounded-circle border ml-n3 mt-n3" src="{{ asset('back-end/img/trade/tether.png') }}"
                alt="flag">
        </div>
        <div>
            <span>
                USDT USD
            </span>
            <br>
            <small>Tether / U.S. Dollar</small>
        </div>
    </div>
    <div>
        <div class="text-right">
            <div class="col" id="usdt-usd"></div>
            <div class="col" id="usdt-usd-rate"></div>
        </div>
    </div>
</div>
<div class="d-flex justify-content-between">
    <div class="d-flex justify-content-between">
        <div class="pt-3">
            <img class="rounded-circle border" src="{{ asset('back-end/img/trade/EU.svg') }}" alt="flag">
            <img class="rounded-circle border ml-n3 mt-n3" src="{{ asset('back-end/img/trade/tether.png') }}"
                alt="flag">
        </div>
        <div>
            <span>
                USDT EUR
            </span>
            <br>
            <small>Tether / European Dollar</small>
        </div>
    </div>
    <div>
        <div class="text-right">
            <div class="col" id="usdt-eur"></div>
            <div class="col" id="usdt-eur-rate"></div>
        </div>
    </div>
</div>
<div class="d-flex justify-content-between">
    <div class="d-flex justify-content-between">
        <div class="pt-3">
            <img class="rounded-circle border" src="{{ asset('back-end/img/trade/GB.svg') }}" alt="flag">
            <img class="rounded-circle border ml-n3 mt-n3" src="{{ asset('back-end/img/trade/tether.png') }}"
                alt="flag">
        </div>
        <div>
            <span>
                USDT GBP
            </span>
            <br>
            <small>Tether / Great Britain Pound</small>
        </div>
    </div>
    <div>
        <div class="text-right">
            <div class="col" id="usdt-gbp"></div>
            <div class="col" id="usdt-gbp-rate"></div>
        </div>
    </div>
</div>


<script>
    var cryptoCurrencies = ["bitcoin", "ethereum", "tether"];

    fetchCryptosCurrencies2();

    setInterval(fetchCryptosCurrencies2, 10000);

    function fetchCryptosCurrencies2() {
        cryptoCurrencies.forEach(element => {
            var api = "https://api.coingecko.com/api/v3/coins/" + element + "?localization=false";
            fetch(api)
                .then(response => {
                    return response.json();
                })
                .then(coin => {
                    displauCryptoCurrencies2(coin);
                })

        });
    }

    function displauCryptoCurrencies2(coin) {
        // console.log(coin);
        var id = coin.id;
        var name = coin.name;
        var symbol = coin.symbol;

        var price_usd = coin.market_data.current_price.usd;
        var price_eur = coin.market_data.current_price.eur;
        var price_gbp = coin.market_data.current_price.gbp;

        var usd_percent_change_1h = coin.market_data.price_change_percentage_1h_in_currency.usd;
        var eur_percent_change_1h = coin.market_data.price_change_percentage_1h_in_currency.eur;
        var gbp_percent_change_1h = coin.market_data.price_change_percentage_1h_in_currency.gbp;

        if (name == "Bitcoin") {
            document.getElementById("btc-usd").innerHTML = "$" + price_usd;
            document.getElementById("btc-eur").innerHTML = "$" + price_eur;
            document.getElementById("btc-gbp").innerHTML = "$" + price_gbp;
        }
        if (name == "Ethereum") {
            document.getElementById("eth-usd").innerHTML = "$" + price_usd;
            document.getElementById("eth-eur").innerHTML = "$" + price_eur;
            document.getElementById("eth-gbp").innerHTML = "$" + price_gbp;
        }
        if (name == "Tether") {
            document.getElementById("usdt-usd").innerHTML = "$" + price_usd;
            document.getElementById("usdt-eur").innerHTML = "$" + price_eur;
            document.getElementById("usdt-gbp").innerHTML = "$" + price_gbp;
        }

        updatePercent(symbol, 'usd', usd_percent_change_1h);
        updatePercent(symbol, 'eur', eur_percent_change_1h);
        updatePercent(symbol, 'gbp', gbp_percent_change_1h);
    }

    function updatePercent(symbol, currency, rate) {
        if (rate < 0) {
            document.getElementById(symbol + '-' + currency + '-rate').innerHTML = "<span class='text-danger'>" +
                parseFloat(
                    rate).toFixed(2) + "%</span>";
        } else {
            document.getElementById(symbol + '-' + currency + '-rate').innerHTML = "<span class='text-success'>+" +
                parseFloat(
                    rate).toFixed(2) + "%</span>";
        }
    }
</script>
